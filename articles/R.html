<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Mark Danovich - PhD student in Physics, The University of Manchester">
    <meta name="keywords" content="physics, condensed matter physics,  graphene, TMDCs, arxiv, data science, machine learning">

    <title>Mark Danovich</title>

    <!-- Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

    <link rel="stylesheet" href="text_style.css">
    <link rel='stylesheet' href="main_style.css">
    
    <link rel="shortcut icon" href="img/pale.ico"/>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-10819841-6', 'auto');
  ga('send', 'pageview');

</script>
  </head>

  <body data-target=".navbar" data-offset="50">

  <div id='nav'></div>


<!-- content-->
  <div class="container page">
        

Dataframes - data.frame
colnames() - column names, head() - first few rows, nrow() - number of rows, glimpse() - like head, summary() detailed summary of data frame, table() - on columns gives a count and cross table for two variables.

ggplot2 - plotting
mapping of variables in data to aes()thetic attributes of geom_..()etric objects.
Example: ggplot(data = gap1992, mapping = aes(x = log(gdpPercap), y=log(pop))) +
  geom_point()

+ adds layers to the graphic, always comes at the end of the line.

different geom types: geom_point(), geom_line(), geom_bar(), geom_boxplot(), geom_violin()..., each geom has different aesthetic attributes.
use help(geom_...) or ?function to find the attributes.



R stores categorical data using factors - nominal dara or ordered data (ordinal).
levels() - see categories in a factor.

bar plots are common with categorical data using geom_bar(), which defaults to showing the counts of each
category.

ggplot([data], aes(x= [categorical_column])) + 
geom_bar() + 
theme(axis.text.x = element_text(angle=45)) #example of rotating the x-axis labels

color in geom_bar maps to the outline color.

The fill aesthetic allows to color fill the bars (default is stacked, position='dodge' side-by-side) based on different categorical parameter.

By using position='fill' in geom_bar, we get relative proportions of the fill categories.
 

Facetting - using another categorical variable to have multiple plots separated by the categories of a third
variable. Also described as stratifying by another categorical variable.

ggplot([data], mapping=aes(x=[main_variable])) + geom_bar() + 
  ## have to specify facets using "~" notation
  facet_wrap(facets=~[second_variable], scale='free_x')

The scale='free_x' option removes the empty categories in each facet.


dplyr - manipulating data frames.

pipe operator %>% (cmd+shift+m in Rstudio) is like the word 'then', it places the thing on the
left as the first argument for the thing on the right.

Six verbs for maninpulation - 

filter([data],[logical conditions]) - filter data.frame based on variable criteria.
alternatively
data %>% filter([logical conditions])

%in% allows to check if variable is in a list of values c("a","b","c").

can use filter to remove na values using !is.na([column]) or !is.na(.) for all columns.

filter works on rows.

mutate([data], {colname}=[transformation]) - transforming data and adding new columns to data frame.
can use mutated variables in the same mutate call.

 group_by() - grouping data by variable and then typically use summarize() to perform operation on grouped
 data.

 new <- [data] %>% 
    filter(!is.na([var])) %>%
    group_by([var2]) %>% 
    summarize({var name}=stat_function([var]))

count=n() - will count observations.


arrange([data],[list of columns]) - sort by a variable, can provide multiple variables. 
desc() allows to order in descending order.

select([data], [columns with possibly new column names]) - extract columns, reorder columns, remove columns, rename your data. select works on columns.


Tidy data (tidyr package) -
- one observation per row 
- one variable per column
- one type of observation per table


gather([data],key={name},value={name2}, -[var]) - combine columns into single column.
key= new name for the column containing the other columns  , value=column name to contain value of observation for each key, var=columns not to be gathered.
Transforms wide to long.

spread([data],key=[var1],value=[var2]) - the opposite of gather. Moves a column into multiple columns.
key - the column that contains the new column names to be spread.
value - the column that contains the values to fill with.
Transforms long to wide.

separate(col=[var], into=[new column names in vector], sep="separator") - separates column values into multiple columns.

broom package.

stat_summary(fun.y="mean",geom="point",pch=3,color="red") - adds statistical summary on top
of a plot.

T-test - compare means of two normally distributed data. null hypthesis - the two means
from two independent groups are identical, the alternative hypothesis is that they're not.
The test gives a p-value for the significance of the deviation.

test_res <- t.test([numeric var] ~ [groups var],data=[data])

broom helps cleaning up and making a nice display for statistical summaries.

tidyres <- tidy(test_res)

use glance on model fittings to get row of statistical summary.

augment([fitting]) - auguments the summary with the predicted value from the fitting.



<hr>

<h1> shiny</h1>

library(shiny)

library([data]) #loading data

ui <- fluidPage()  #user interface (layout and appearance) 
- inputs defined and laid out.
- outputs laid out.

one type of layout: sidebarLayout() { sidebarPanel() , followed by mainPanel() }

ui tools: 
selectInput(inputId='' , label='', choices=c(), selected='') #like select list in html

mainPanel(
  plotOutput(outputId='', brush='plot_brush')  
)

brush='plot_brush' - allows to select points from a plot,
then in the server: brushedPoints(data, input$plot_brush) gives the selected(brushed) data points.

server <- function(input, output) {} #server function (instructions needed to build app)

- outputs calculated.
- any other calculations for outputs performed.
- defined relationship between inputs and outputs.

input, output are named list allowing to access the input and output variables defined in the ui.
output$[id] <- renderPlot({})  # renderPlot  matches with plotOutput. There are other render and output matching functions.

shinyApp(ui=ui, server=server) <-  #creates the shiny app

  </div>



<!-- end content -->






<!-- begin imports-->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type='text/javascript'>
       $(function(){

          $("div#nav").load("../nav.html");

        });
    </script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
<!-- end imports-->

  </body>
</html>
