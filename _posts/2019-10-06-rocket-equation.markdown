---
layout: post
title:  "Rocket equation"
date:   2019-10-06 20:03:00 +0100
categories: posts
---


The second space age is upon us. Thanks to Elon Musk's SpaceX,
humanity has a renewed hope in becoming a multi-planetary civilization.
It is quite an exciting time to be alive, and it is highly likely 
that in my lifetime we will see people travelling and colonizing Mars.

The first space era was an extraordinary achievement climaxing in the first moon landing in 1969. The trigger for the rapid advancement and achievements, like many times before, was war.
Starting from the German's intercontinental ballistic missiles during WWII, which laid the foundations, to the cold war and the technological arms race between the soviet union and the USA.

This time around, the trigger is not war, but simply one man's vision.

The recent spectacular achievements and advancements of SpaceX with the Falcon-9, BFR and the expected StarShip with the new Raptor rockets, have inspired me to look back at my 1st year Physics notes about the rocket equation, or how rockets work, on a very basic level.

The basic principle enabling rockets is Newton's 3rd law - every action has an equal and opposite reaction. 
A rocket expels material at high velocity from one end, creating enough thrust to lift the rocket's body against gravity.

The law of conservation of momentum is a result of Newton's 3rd law (Also of translational symmetry). For the rocket we can write,

$$
  P_{total} = P_{rocket} + P_{propellant}
$$
The rocket emits mass at a rate $$\mu = \frac{dm}{dt}$$ and a speed $$u$$ relative to the rocket.

The rate of change of momentum is given by the force acting on the system, hence when no external force is acting, the total momentum is conserved.

Taking the time derivative of the momentum conservation equation,
$$
F_{ext} = M\dot{v} + v\dot{M} + (v-u)\mu
$$


where $$M(t), v(t)$$ are the rocket's mass and velocity, respectively. 

The first two terms are due to the rocket changing momentum from acceleration and losing mass.
The last term is the propellant's momentum change which are due to the accumulation of emitted mass at the given velocity. The term $$(v-u)$$ is the propellant's speed emitted from the rocket relative to an external reference frame.

The rocket's mass is given by $$M(t)=M_0-\mu t$$, as the rocket is losing mass at the rate of emission of material, which is $$\mu$$.
This allows to rewrite Eq. (2) as,
$$
F_{ext} = M(t)\dot{v} - u\mu
$$

## No gravity

The simplest case is where there are no external forces, for example a rocket travelling in free space. We then have $$F_{ext}=0$$, allowing to write

$$
M(t)\dot{v} = u\mu
$$
The left hand side is simply the current rocket mass times acceleration and the right hand side is known as the thrust, which is the force generated by the rocket propulsion $$T=\mu u$$. 
A common measure when dealing with rockets is the specific impulse, which is the thrust per unit mass, and is defined by $$I_{sp} = \frac{u}{g}$$, with $g$ being the gravitational acceleration on earth.

Solving for $$v(t)$$ by rearranging the equation, separating time and velocity,

$$
\frac{dv}{\mu u} = \frac{dt}{M_0-\mu t}.
$$
Solving by integrating both sides from an initial time,

$$
v(t) = v(0) + u \log \frac{M_0}{M_0-\mu t}
$$
In particular the final velocity is given by 
$$
v_f = v_0 + u\log \frac{M_0}{M_f}
$$
The smaller the final mass the larger the final velocity, with the velocity increasing logarithmically with the ratio, which is space rockets are built with multiple stages, such that the final mass is much smaller than initial mass.

## With gravity

Returning to the more realistic case of having a rocket in the launch pad, we now take into account the gravitational pull. The total force on the rocket + fuel system is $$-M_0 g$$, with $$g$$ the acceleration due to gravity, giving 

$$
M(t)\dot{v} = u\mu - M(t) g
$$
The equation says that the momentary acceleration of the rocket is given by the thrust minus the momentary pull of gravity.

The solution is similarly given by,

$$
v_f = v_0 + u\log \frac{M_0}{M_f} - gt.
$$

## With gravity and drag

The launch scenario also includes drag from the atmosphere as an external force, $$F_{d} = \frac{1}{2}\rho v^2C_d*A$$, where $$\rho$$ is the atmosphere's density, $$A$$ is the rocket's cross section area, and $$C_d$$ is the drag coeficient, which depends on the rocket shape. The rocket equation becomes,
$$
M(t)\dot{v} = u\mu - M(t) g - \frac{1}{2}\rho v^2 C_d
$$

The relative importance of gravity and the drag force is given by $$\frac{\rho v^2 C_d}{2 M_0g}$$, which for typical values tends to be of the order of few percent.

## Falcon 9

The SpaceX rocket [Falcon 9](https://en.wikipedia.org/wiki/Falcon_9)
weighs about $$549 {\rm kg}$$ and has a specific impulse of $$282 s$$ or exhaust speed of $$2.77 {\rm km/s}$$.